/*
* Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
*
* This program is free software; you can redistribute it and/or modify
* it under the terms of the GNU General Purpose License Version 2 as
* published by the Free Software Foundation
*
* Original from: github.com/jadonk/validation-scripts/blob/master/test-capemgr/
*
* Modified by Derek Molloy for the example on www.derekmolloy.ie
* that maps GPIO pins for the example
*
* Modified again by Fritz Reese for a custom RGB LED circuit.
*
* Uses pins 14,16,21,22 as PWM on the BBB.
*
*   PIN GPIO	function
*   14	GPIO_3	EHRPWM1A
*   16	GPIO_2	EHRPWM1B
*   21	GPIO_49	EHRPWM0B
*   22	GPIO_15	EHRPWM0A
*
*/

/dts-v1/;
/plugin/;

/{
  compatible = "ti,beaglebone", "ti,beaglebone-black";
  part-number = "CIRCLS_led_pwm";
  version = "00A0";

  fragment@0 {
    target = <&am33xx_pinmux>;

    __overlay__ {
      circls_led_pwm: CIRCLS_led_pwm {
        pinctrl-single,pins = <
          0x048 0x06  // P9_14 PINS$18 EHRPWM1A
          0x04c 0x06  // P9_16 PINS$19 EHRPWM1B
          0x154 0x06  // P9_21 PINS$85 EHRPWM0B
          0x150 0x06  // P9_22 PINS$84 EHRPWM0:
        >;
      };
    };
  };

  fragment@1 {
    target = <&ocp>;
    __overlay__ {
      gpio_helper {
        compatible = "gpio-of-helper";
        status = "okay";
        pinctrl-names = "default";
        pinctrl-0 = <&circls_led_pwm>;
      };
    };
  };
};
